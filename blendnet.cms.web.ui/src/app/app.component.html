<mat-toolbar *ngIf="!isAccessedViaPartnerApp && isLoggedIn" class="cms-toolbar">

	<!-- <span>
		<div class="cms-app-name" *ngIf="!isAccessedViaPartnerApp && hasAdminAccess">
		<h1>Content Provider : {{selectedCPName}}</h1>
	</div></span>
	<span class="cms-menu-spacer"></span>
	<span><h1>{{appName}}</h1></span>
  	<span class="cms-menu-spacer"></span> -->

	<div class="mishtu-logo">
        <img src="../{{baseHref}}/assets/mishtu-logo.png">
    </div>
	<div class="cms-toolbar-item">
		<div class="retailer-referral" *ngIf="hasRetailerAccess">
			<p class="retailer-referral-text">Referral Code: <span>{{referralCode}}</span></p>
			<mat-icon  class="referral-copy-icon" matTooltip="Copy to Clipboard" (click)="copiedConfirm()"
			[cdkCopyToClipboardAttempts]="20"
			[cdkCopyToClipboard]="">
				content_copy
			</mat-icon>
		</div>
	  
		<div class="cms-profile" *ngIf="!isAccessedViaPartnerApp && isLoggedIn">
			<span *ngIf="!hasRetailerAccess">{{currentUserName}}</span>
			<button mat-button [matMenuTriggerFor]="menu">
				<mat-icon style="margin-bottom: 3px;">more_vert</mat-icon>
			</button>
			<mat-menu #menu="matMenu" xPosition="before">
				<button mat-menu-item [routerLink]="['/profile']">	
					<mat-icon>account_circle</mat-icon>
					<span>Profile</span>
				</button>
				<button mat-menu-item (click)="logout()">	
					<mat-icon>logout</mat-icon>
					<span>Logout</span>
				</button>
			</mat-menu>
		</div>
	</div>

</mat-toolbar>

<mat-sidenav-container [ngClass]="(!isAccessedViaPartnerApp && isLoggedIn) ? 'cms-container-height': 'cms-container' "   autosize  >
	<mat-sidenav  #sidenav class="cms-sidenav" mode="side" opened="true" *ngIf="!isAccessedViaPartnerApp && isLoggedIn">	
		<mat-nav-list>
			<div class="submenu" [ngClass]="{'expanded' : true}" *ngFor="let item of menu">
				<a mat-list-item
				 [routerLink]="[item.routerLink]" 
				 *ngIf="shouldShow(item.roles)"
				 [ngClass]="{'active': item.routerLink ? router.isActive(item.routerLink, true): false}">
				 <div class="cms-sidenav-details">
					<mat-icon mat-list-icon class="nav-icon">
						{{item.iconName}}</mat-icon>
						<span *ngIf="isExpanded" class="menu-side-text">{{item.displayName}}</span>
						<div *ngIf="!isExpanded" class="menu-small-text">{{item.closedName}}</div>
				 </div>
				</a>
      		</div>
		</mat-nav-list>
    <mat-nav-list>
  </mat-nav-list>
</mat-sidenav>
	<!-- <mat-sidenav  *ngIf="hasRetailerAccess" #sidenav class="cms-sidenav retailer-menu {{userService.getRetailerRouted() ? 'hidden': ''}}" mode="side" opened="true">
		<mat-nav-list>
			<app-retailer-landing-page></app-retailer-landing-page>
		</mat-nav-list>
		<div class="retailer-layout">
			
		</div>
	</mat-sidenav> -->

	<!-- <div  class="{{ hasRetailerAccess? '':'cms-sidenav-content'}}">
		<router-outlet class="{{(hasRetailerAccess && !isDesktop && !userService.getRetailerRouted()) ? 'hidden': ''}}"></router-outlet>
	</div> -->

	<div  class="cms-sidenav-content">
		<router-outlet></router-outlet>
	</div>

</mat-sidenav-container>