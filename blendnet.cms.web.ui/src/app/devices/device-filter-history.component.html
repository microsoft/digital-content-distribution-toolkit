<div class="cms-container">
    <h1>Device filter update history {{deviceid}}
        <button mat-raised-button color="primary" class="create-btn" (click)="showDevicesPage()" style="float: right;"> Back </button>
    </h1>
    <br>
        <mat-form-field>
            <mat-label>Filter</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Filter name" #input
            [disabled]="error">
        </mat-form-field>
   


    <div class="mat-elevation-z8">
        <div class="cms-table-container">
            <table mat-table [dataSource]="dataSource" matSort class="cms-table">
        
                <ng-container matColumnDef="select">
                    <th mat-header-cell *matHeaderCellDef>
                    
                    </th>
                    <td mat-cell *matCellDef="let row">
                    
                    </td>
                </ng-container>
                <!-- ID Column -->
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                    <td mat-cell *matCellDef="let row"> {{row.id}} </td>
                </ng-container>
            
                <!-- deviceCommandStatus Column -->
                <ng-container matColumnDef="deviceCommandStatus">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Device Command Status </th>
                    <td mat-cell *matCellDef="let row"> {{row.deviceCommandStatus}} </td>
                </ng-container>
            
                <!-- Filters Column -->
                <ng-container matColumnDef="filters">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Filters </th>
                    <td mat-cell *matCellDef="let row"> {{row.filterUpdateRequest.filters}} </td>
                </ng-container>

                <!-- created date Column -->
                <ng-container matColumnDef="createdDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Created Date </th>
                    <td mat-cell *matCellDef="let row"> {{row.createdDate | date: 'short'}} </td>
                </ng-container>
            

                <!-- created by Column -->
                <ng-container matColumnDef="details">
                    <th mat-header-cell *matHeaderCellDef >Additional Details</th>
                    <td mat-cell *matCellDef="let row"> <button mat-icon-button (click)="openAdditionalDetailsHistory(row)">
                        <mat-icon mat-list-icon 
                        matTooltip="Additional Details">info</mat-icon> 
                    </button> </td>
                </ng-container>
            
                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            
                <!-- Row shown when there is no matching data. -->
                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4" *ngIf="!errMessage && input.value?.length>0">No data matching the filter "{{input.value}}"</td>
                    <td class="mat-cell" colspan="4" *ngIf="errMessage"><h4>{{errMessage}}</h4></td>
                </tr>
            </table>
        </div>
    
        <mat-paginator [pageSizeOptions]="[10, 25, 100]"></mat-paginator>
    </div>
    
</div>  
  