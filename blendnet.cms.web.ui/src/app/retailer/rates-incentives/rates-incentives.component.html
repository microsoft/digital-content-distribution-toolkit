<div class="referrals-main-block">
    <div class="referrals-heading">
        <img class="back-nav" (click)="navigateToHome()" src="../../{{baseHref}}/assets/images/retailer-referrals/back-nav.jpg">
        <div class="referrals-heading-text">Rates & Incentives</div>
    </div>
    <div class="incentives-each-block">
        <div class="incentives-referral-block">
            <div class="incentives-referral-header-block">
                <div class="referrals-route-wrapper">
                    <div class="referrals-route-inner">
                        <div class="incentive-text-type">
                                Referrals
                                <div class="each-offer-text-block-date inline-date">
                                    <div class="each-offer-text-block-date-inner">
                                        <span class="each-offer-valid-label">Valid till :</span>
                                        <span class="each-offer-valid-date">{{referralsValid}}</span>    
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="incentives-each-offer" *ngFor="let ratesIncentivesReferral of ratesIncentivesReferrals">
                <div class="each-offer">
                    <div class="each-offer-inner referrals-each-offer-inner">
                        <div class="each-offer-text-block">
                            Earn Rs {{ratesIncentivesReferral.formula.firstOperand}} on every completed Referral
                        </div>
                        <div class="each-offer-conversion">
                            1 Referral = Rs {{ratesIncentivesReferral.formula.firstOperand}} Earning
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="incentives-each-block">
        <div class="incentives-referral-block">
            <div class="incentives-referral-header-block">
                <div class="milestones-route-wrapper">
                    <div class="milestones-route-inner">
                        <div class="incentive-text-type">
                                Milestones 
                                <div class="each-offer-text-block-date inline-date">
                                    <div class="each-offer-text-block-date-inner">
                                        <div class="inline-date">
                                            <span class="each-offer-valid-label">Valid till :</span>
                                            <span class="each-offer-valid-date">{{milestonesValid}}</span>    
                                        </div>    
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="incentives-each-offer" *ngFor="let milestone of ratesIncentivesMilestones">
                <div class="each-offer" *ngIf="milestone.eventType === eventType['Retailer Referral']">
                    <div class="each-offer-inner milestones-each-offer-inner referral-milestone">
                        <div class="each-offer-text-block">
                            Earn Rs {{milestone.formula.firstOperand}} Bonus for every {{milestone.eventTitle}}
                        </div>
                        <!-- <div class="each-offer-text-block-date">
                            <span class="each-offer-valid-label">Valid till :</span>
                            <span class="each-offer-valid-date">{{milestonesValid}}</span>
                        </div> -->
                        <div class="each-offer-conversion">
                            {{milestone.eventTitle}}  = Rs {{milestone.formula.firstOperand}} Earning
                        </div>
                    </div>
                </div>
                <div class="each-offer" *ngIf="milestone.eventType === eventType['Retailer Order Complete']">
                    <div class="each-offer-inner milestones-each-offer-inner commission-milestone"*ngIf="milestone.formula.formulaType === 'RANGE_AND_MULTIPLY'">
                        <div class="each-offer-text-block">
                            {{milestone.eventTitle}}
                        </div>
 
                        <div class="each-offer-conversion" *ngFor="let range of milestone.formula.rangeOperand">
                            {{range.startRange + '-' + range.endRange}} Orders = Rs {{range.output}} Earning
                        </div>
                    </div>
                    <div class="each-offer-inner milestones-each-offer-inner commission-milestone" *ngIf="milestone.formula.formulaType === 'DIVIDE_AND_MULTIPLY'">
                        <div class="each-offer-text-block">
                            Earn Rs {{milestone.formula.firstOperand}} Bonus for every {{milestone.eventTitle}}
                        </div>
                        <div class="each-offer-conversion">
                            {{milestone.eventTitle}} = Rs {{milestone.formula.firstOperand}} Earning
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div *ngIf="ratesIncentivesCommissions.length" class="incentives-each-block">
        <div class="incentives-referral-block">
            <div class="incentives-referral-header-block">
                <div class="commission-route-wrapper">
                    <div class="commission-route-inner">
                        <div class="incentive-text-type">
                                Commision
                                <div class="each-offer-text-block-date inline-date">
                                    <div class="each-offer-text-block-date-inner">
                                        <span class="each-offer-valid-label">Valid till :</span>
                                        <span class="each-offer-valid-date">{{incentivesValid}}</span>    
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="incentives-each-offer" *ngFor="let ratesIncentivesCommission of ratesIncentivesCommissions">
                <div class="each-offer">
                    <div class="each-offer-inner commissions-each-offer-inner">
                        <div class="each-offer-text-block">
                            Earn {{ratesIncentivesCommission.formula.formulaType !== 'PERCENTAGE'? 'Rs ':''}}
                            {{ratesIncentivesCommission.formula.firstOperand}}{{ratesIncentivesCommission.formula.formulaType === 'PERCENTAGE'? '%':''}} 
                            for every
                            {{contentProviders[ratesIncentivesCommission.eventSubType]}} order
                        </div>

                        <!-- <div>
                            <div class="commission-left text-left"><b>Pack Name</b></div>
                            <div class="commission-right text-right"><b>Commission</b></div>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>